<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/datepicker.css">
    <link href="bootstrap-3.3.5-dist/css/bootstrap.min.css" title="" rel="stylesheet" />
  <script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>
    <script src="bootstrap-3.3.5-dist/js/bootstrap.min.js" type="text/javascript"></script>
    <style>
      .p20{
        padding:20px;
      }
      .mt20{
        margin-top:20px;
      }
      .mt40{
        margin-top:40px;
      }
      .mt10{
        margin-top:10px;
      }
      .hide{
        display: none;
      }
      body{
        height:1000px;
      }
      .c999{
        color:#999;
        font-size:12px;
      }

      .left{
          width: 19%;
          background-color: #F5F5F5;
      }
      .left_padding p{
          padding-left:5%;
          font-size: 14px;
          line-height: 1.5;
          margin:0px;
      }
      .left ul li span{
          font: inherit;
          font-family: inherit;
          color:#666666;
          list-style: none;
      }
       ul li {
          list-style: none;
      }
        li:hover{
            background-color:#ead9d9;
        }
        .search_popup{
            position: relative;
            width: 40%;
            background-color: white;
            border: 1px solid #d9d9d9;
            left:5%;
            display: none;
        }
        .search_add{
            padding: 2%;
            border: 1px solid #d9d9d9;
            display: flex;
           font-size: 20px;
        }
         .close_btn{
             position: relative;
             right: -73%;
         }
        .search_option{
            padding: 3%;
            border: 1px solid #d9d9d9;
        }
        .b,.c{
            display: none;
        }
    </style>

  <script>
    $(document).ready(function(){
     console.log($("#aaa").val());
     $("#ceshi li").click (function(){
       var a = $(this).val();
       $("#inp").val(a);
       $("#form").submit();
     });
    });
    function openDialog(){
        document.getElementById('sss').style.display="block";
       // document.getElementById('fade').style.display='block'
    }
    function closeDialog(){
        document.getElementById('sss').style.display='none';
        //document.getElementById('fade').style.display='none'
    }
    function popup(a,b){
alert(b);
    }

  </script>
</head>
<body >
<!-- Single button -->
<div class="btn-group">
    <div class="input-group">
        <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)">
        <span class="input-group-btn">
        <button class="btn btn-default" type="button">搜索</button>
      </span>
    </div>
</div>
<section style="height: 3%"></section>
<section style="height: 5%">
    <div style="background-color:#d9d9d9" class="btn-group btn-group-justified" role="group" aria-label="...">
        <div class="btn-group" role="group">
            <div style="margin: 0.7%;width: 10%">
                <a href = "JavaScript:void(0)" onclick = "openDialog();" style="font-size: initial">添加过滤条件</a><span class="glyphicon glyphicon-plus" style="margin-left: 0.5%"></span>
            </div>

        </div>
    </div>
    <div class="search_popup" id="sss">
        <div class="search_add">
            <div>
                <span>添加过滤条件</span>
            </div>
            <div class="close_btn">
                <a href = "JavaScript:void(0)" onclick="closeDialog()" ><span class="glyphicon glyphicon-remove" ></span></a>
            </div>
        </div>
        <div class="search_option">
            <div class="row">
                <div class="col-xs-3">
                    <div class="form-group">
                        <label for="exampleInputEmail1">过滤</label>
                        <select class="form-control" placeholder="字段" id="exampleInputEmail1">
                            <option>1</option>
                            <option>2</option>
                        </select>
                    </div>
                </div>
                <div class="col-xs-3 b">
                    <div class="form-group">
                        <label for="b">条件 </label>
                        <select class="form-control" placeholder="字段" id="b">
                            <option>is</option>
                            <option>is not</option>
                        </select>
                    </div>
                </div>
                <div class="col-xs-5 c">
                    <div class="form-group">
                        <label for="c">值</label>
                        <select class="form-control" placeholder="字段" id="c">
                            <option>is</option>
                            <option>is not</option>
                        </select>
                    </div>
                </div>
            </div>
                <div class="form-group">
                    <label for="a">标签</label>
                    <input type="email" class="form-control" id="a" placeholder="可选的" style="width: 200px">
                </div>
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group" style="margin-left:75%">
                        <input id="btnCancel" class="btn btn-primary" type="button" value="返 回" onclick="history.go(-1)"/>
                            <input id="btnSubmit" name="btnSubmit" class="btn btn-primary" type="submit" value="保 存"/>&nbsp;
                    </div>
                </div>
            </div>
        </div>
        <div>

        </div>
    </div>
</section>

</div><!-- /.row -->
<div class="left">
    <div style="margin-top: 1%;">
        <select class="form-control">
            <option>1</option>
            <option>2</option>
        </select>
    </div>
    <div class="left_padding">
    <div>
        <p>所选字段</p>
    </div>
    <ul>
        <li>
            <span>_source</span>
        </li>
    </ul>
    <div>
        <p>可选择字段</p>
    </div>
        <form id="form" action="/ceshi/type" method="get">
            <input type="hidden" name="type" id="inp">
        <ul id="ceshi">
            <li value="1">name</li>
            <li value="2">age</li>
            <li value="3">address</li>
        </ul>
        </form>
    </div>
</div>
<p>示例弹出层：<a href = "JavaScript:void(0)" onclick = "openDialog()">请点这里</a></p>
<div id="light" class="white_content">
    <table>
        <tr>
            <td>fffff</td>
            <td>dddddd</td>
        </tr>
        <tr>
            <td>fffff</td>
            <td>dddddd</td>
        </tr>
        <tr>
            <td>fffff</td>
            <td>dddddd</td>
        </tr>
    </table>
    <a href = "javascript:void(0)" onclick = "closeDialog()">点这里关闭本窗口</a>
</div>
<div id="fade" class="black_overlay"></div>

      <div class="mt40">
        <div class="c-datepicker-date-editor c-datepicker-single-editor J-datepicker mt10">
          <i class="c-datepicker-range__icon kxiconfont icon-clock"></i>
          <input type="text" autocomplete="off" id="aaa" placeholder="选择日期" class=" c-datepicker-data-input" value="2019-04-29 20:59:59">
        </div>
      </div>
    <input type="button" value="woqu " class="woqu" onclick="popup(this,this.value)">

    <script src="js/plugins/moment.min.js"></script>
    <!-- <script src="js/datapicker-separate/api.js"></script>
    <script src="js/datapicker-separate/year.js"></script>
    <script src="js/datapicker-separate/month.js"></script>
    <script src="js/datapicker-separate/day.js"></script>
    <script src="js/datapicker-separate/time.js"></script>
    <script src="js/datapicker-separate/datepicker.js"></script> -->

    <script src="js/datepicker.all.js"></script>
    <!-- <script src="js/datepicker.all.min.js"></script> -->
    <script type="text/javascript">
          $(function(){
            var DATAPICKERAPI = {
              // 默认input显示当前月,自己获取后填充
              activeMonthRange: function () {
                return {
                  begin: moment().set({ 'date': 1, 'hour': 0, 'minute': 0, 'second': 0 }).format('YYYY-MM-DD HH:mm:ss.SSS'),
                  end: moment().set({ 'hour': 23, 'minute': 59, 'second': 59 }).format('YYYY-MM-DD HH:mm:ss.SSS')
                }
              },
              shortcutMonth: function () {
                // 当月
                var nowDay = moment().get('date');
                var prevMonthFirstDay = moment().subtract(1, 'months').set({ 'date': 1 });
                var prevMonthDay = moment().diff(prevMonthFirstDay, 'days');
                return {
                  now: '-' + nowDay + ',0',
                  prev: '-' + prevMonthDay + ',-' + nowDay
                }
              },
              // 注意为函数：快捷选项option:只能同一个月份内的
              rangeMonthShortcutOption1: function () {
                var result = DATAPICKERAPI.shortcutMonth();
                return [{
                  name: '昨天',
                  day: '-1,-1',
                  time: '00:00:00,23:59:59'
                }, {
                  name: '这一月',
                  day: result.now,
                  time: '00:00:00,'
                }, {
                  name: '上一月',
                  day: result.prev,
                  time: '00:00:00,23:59:59'
                }];
              },
              // 快捷选项option
              rangeShortcutOption1: [{
                name: '最近一周',
                day: '-7,0'
              }, {
                name: '最近一个月',
                day: '-30,0'
              }, {
                name: '最近三个月',
                day: '-90, 0'
              }],
              singleShortcutOptions1: [{
                name: '今天',
                day: '0'
              }, {
                name: '昨天',
                day: '-1',
                time: '00:00:00'
              }, {
                name: '一周前',
                day: '-7'
              }]
            };
              $('.J-datepicker').datePicker({
                hasShortcut:true,
                min:'2018-01-01 04:00:00',
                max:'2020-01-01 20:59:59',
                shortcutOptions:[{
                  name: '今天',
                  day: '0'
                }, {
                  name: '昨天',
                  day: '-1',
                  time: '00:00:00'
                }, {
                  name: '一周前',
                  day: '-7'
                }],
                hide:function(){
                  console.info(this)
                }
              });
          
          //年月日单个
          $('.J-datepicker-day').datePicker({
            hasShortcut: true,
            format:'YYYY-MM-DD',
            shortcutOptions: [{
              name: '今天',
              day: '0'
            }, {
              name: '昨天',
              day: '-1'
            }, {
              name: '一周前',
              day: '-7'
            }]
          });
          
          //年月日范围
          $('.J-datepicker-range-day').datePicker({
            hasShortcut: true,
            format: 'YYYY-MM-DD',
            isRange: true,
            shortcutOptions: DATAPICKERAPI.rangeShortcutOption1
          });

          //十分年月日单个
          $('.J-datepickerTime-single').datePicker({
            format: 'YYYY-MM-DD HH:mm'
          });
          
          //十分年月日范围
          $('.J-datepickerTime-range').datePicker({
            format: 'YYYY-MM-DD HH:mm',
            isRange: true
          });
          
          //时分秒年月日范围，包含最大最小值
          $('.J-datepicker-range').datePicker({
            hasShortcut: true,
            min: '2018-01-01 06:00:00',
            max: '2019-04-29 20:59:59',
            isRange: true,
            shortcutOptions: [{
              name: '昨天',
              day: '-1,-1',
              time: '00:00:00,23:59:59'
            },{
              name: '最近一周',
              day: '-7,0',
              time:'00:00:00,'
            }, {
              name: '最近一个月',
              day: '-30,0',
              time: '00:00:00,'
            }, {
              name: '最近三个月',
              day: '-90, 0',
              time: '00:00:00,'
            }],
            hide: function (type) {
              console.info(this.$input.eq(0).val(), this.$input.eq(1).val());
              console.info('类型：',type)
            }
          });
          //时分秒年月日范围，限制只能选择同一月，比如2018-10-01到2018-10-30
          $('.J-datepicker-range-betweenMonth').datePicker({
            isRange: true,
            between:'month',
            hasShortcut: true,
            shortcutOptions: DATAPICKERAPI.rangeMonthShortcutOption1()
          });
          
          //时分秒年月日范围，限制开始结束相隔天数小于30天
          $('.J-datepicker-range-between30').datePicker({
            isRange: true,
            between: 30
          });
          
          //年月单个
          $('.J-yearMonthPicker-single').datePicker({
            format: 'YYYY-MM',
            min: '2018-01',
            max: '2019-04'
          });
          
          //选择年
          $('.J-yearPicker-single').datePicker({
            format: 'YYYY',
            min: '2018',
            max: '2020'
          });
          
          
      });
    </script>
</body>
</html>
